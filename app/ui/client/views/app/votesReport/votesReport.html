<template name="votesReport">
	<section class="votesReport">
		{{> header sectionName="Votes Report" hideHelp=true fullpage=true}}
		<div class="rc-table-content">
			{{>tabs tabs=tabsData}}

			{{#table fixed='true' onItemClick=onTableItemClick}}
				<thead>
					<tr>
						<th>
							<div class="table-fake-th"><span>{{_ "Message"}}</span></div>
						</th>
						<th class="votesReport__voters">
							<div class="table-fake-th"><span>{{_ "Voters"}}</span></div>
						</th>
						<th class="votesReport__channel-name">
							<div class="table-fake-th"><span>{{_ "Room"}}</span></div>
						</th>
						<th class="table-column-date">
							<div class="table-fake-th">{{_ "Date"}}</div>
						</th>
					</tr>
				</thead>
				<tbody>
					{{#each searchResults}}
						<tr data-rid="{{rid}}" data-mid="{{_id}}">
							<td class="votesReport__message">
								{{msg}}
							</td>
							<td class="votesReport__voters">
								{{#if votersUp.length}}
								<ul>
									<p><strong><i class="icon-thumbs-up"></i> ({{votersUp.length}})</strong></p>
									{{#each votersUp}}
										<li>{{this}}</li>
									{{/each}}
								</ul>
								{{/if}}
								{{#if votersDown.length}}
								<ul>
									<p><strong><i class="icon-thumbs-down"></i> ({{votersDown.length}})</strong></p>
									{{#each votersDown}}
										<li>{{this}}</li>
									{{/each}}
								</ul>
								{{/if}}
							</td>
							<td class="votesReport__channel-name">
								{{room}}
							</td>
							<td class="table-column-date">
								{{date}}
							</td>
						</tr>
					{{else}}
						{{# with searchText}}
							<tr class="table-no-click">
								<td colspan="{{sumColumnCount 4 showLastMessage}}">
									{{_ "No_results_found_for"}} {{.}}
								</td>
							</tr>
						{{/with}}
					{{/each}}
					{{#if isLoading}}
						<tr class="table-no-click">
							<td class="table-loading-td" colspan="{{sumColumnCount 4 showLastMessage}}">
								{{> loading}}
							</td>
						</tr>
					{{/if}}
				</tbody>
			{{/table}}
		</div>
	</section>
</template>
